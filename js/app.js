!function(){"use strict";angular.module("forms",["ngRoute","firebase"])}(),function(){"use strict";function e(e){e.when("/",{url:"/",templateUrl:"./createAcct.html",controller:"formController",controllerAs:"formCtrl"}).when("/dashboard",{url:"./dashboard",templateUrl:"./dashboard.html",controller:"formController",controllerAs:"formCtrl"}).otherwise({redirectTo:"/"})}angular.module("forms").config(e),e.$inject=["$routeProvider","$locationProvider"]}(),function(){"use strict";function e(e,a,t){function o(){l.userdata.name=null,l.userdata.email=null,l.userdata.password=null,l.userdata.dob=null}function n(e){e.start=e.start.toString(),e.end=e.end.toString(),e.location=$("#geocomplete").val()}function s(){l.event.name=null,l.event.type=null,l.event.host=null,l.event.start=null,l.event.end=null,l.event.guests=null,l.event.location=null,l.event.message=null}function r(){$(function(){$("#geocomplete").geocomplete()})}var l=this;l.isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,l.isFirefox="undefined"!=typeof InstallTrigger,l.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,l.isIE=!!document.documentMode,l.isEdge=!l.isIE&&!!window.StyleMedia,l.isChrome=!!window.chrome&&!!window.chrome.webstore,l.unsafe=!0,function(){l.isFirefox||l.isSafari||l.isIE?l.unsafe=!0:(l.isOpera||l.isEdge||l.isChrome)&&(l.unsafe=!1)}(),t.$on("$routeChangeSuccess",function(){var a=e.path();a.indexOf("dashboard")!=-1?(r(),$(function(){$("#ename").focus()}),l.addFeedbackForEvent()):$(function(){$("#rname").focus()})});var i={apiKey:"AIzaSyBvxJcCMPG8KrvWdmYcFZ9_rvX3faCgpfw",authDomain:"forms-aec40.firebaseapp.com",databaseURL:"https://forms-aec40.firebaseio.com",storageBucket:"forms-aec40.appspot.com"};firebase.initializeApp(i,"app"+Math.random()),l.addFeedbackForRegister=function(){$(function(){$("#register_form").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{name:{validators:{stringLength:{min:2},notEmpty:{message:"Please Enter Your Name"}}},email:{validators:{notEmpty:{message:"Please Enter Your Email Address"},emailAddress:{message:"Please Enter a Valid Email Address"}}},password:{validators:{notEmpty:{message:"Please Enter Your Password"},regexp:{regexp:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/i,message:["Password Must Contain:  A Lowercase Alphabet, ","An Uppercase alphabet, ","A Number, ","A Special Symbol, Must Contain a minimum of 8 charecters "]}}},dob:l.unsafe?{validators:{regexp:{regexp:/^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])\/((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\/(0[13456789]|1[012])\/((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\/02\/((19|[2-9]\d)\d{2}))|(29\/02\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/g,message:"Date Should be in dd/mm/yyyy format"}}}:null}}).on("error.field.bv",function(e,a){""!=$("#rname").val()&&""!=$("#remail").val()&&""!=$("#rpassword").val()||$("#rsubmit").prop("disabled",!0),a.bv.disableSubmitButtons(!0)}).on("status.field.bv",function(e,a){""==$("#rname").val()||""==$("#remail").val()||""==$("#rpassword").val()?$("#rsubmit").prop("disabled",!0):a.bv.disableSubmitButtons(!1)})})},l.addFeedbackForLogin=function(){$(function(){$("#login_form").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{email:{validators:{notEmpty:{message:"Please Enter Your Email Address"},emailAddress:{message:"Please Enter a Valid Email Address"}}},password:{validators:{notEmpty:{message:"Please Enter Your Password"}}}}}).on("error.field.bv",function(e,a){""!=$("#lemail").val()&&""!=$("#lpassword").val()||$("#lsubmit").prop("disabled",!0),a.bv.disableSubmitButtons(!0)}).on("status.field.bv",function(e,a){""==$("#lemail").val()||""==$("#lpassword").val()?$("#lsubmit").prop("disabled",!0):a.bv.disableSubmitButtons(!1)})})},l.addFeedbackForEvent=function(){$(function(){$("#event_form").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{ename:{validators:{stringLength:{min:2},notEmpty:{message:"Please Enter The Event Name"}}},etype:{validators:{stringLength:{min:2},notEmpty:{message:"Please Enter The Type Of Event"}}},hname:{validators:{stringLength:{min:2},notEmpty:{message:"Please Enter The Host Name"}}},stdate:{validators:{regexp:l.unsafe?{regexp:/^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])\/((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\/(0[13456789]|1[012])\/((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\/02\/((19|[2-9]\d)\d{2}))|(29\/02\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))([ ]){1}([0-2][0-3]:[0-5][0-9])$/g,message:"Value Should be in dd/mm/yyyy HH:MM format"}:null}},eddate:{validators:{callback:{callback:function(){var e=$("#stdate").val(),a=$("#eddate").val(),t=null,o=null,n=null,s=null;if(l.unsafe){if(a.substring(6,10)<e.substring(6,10))return!1;if(a.substring(6,10)==e.substring(6,10)&&(t=!0),t&&a.substring(3,5)<e.substring(3,5))return!1;if(t&&a.substring(3,5)==e.substring(3,5)&&(o=!0),o&&t&&a.substring(0,2)<e.substring(0,2))return!1;if(o&&t&&a.substring(0,2)==e.substring(0,2)&&(n=!0),n&&o&&t&&a.substring(11,13)<e.substring(11,13))return!1;if(n&&o&&t&&a.substring(11,13)==e.substring(11,13)&&(s=!0),s&&n&&o&&t&&a.substring(14,16)<e.substring(14,16))return!1}else{var r=new Date(e.toString()),i=new Date(a.toString()),d={day:r.getDate(),month:r.getMonth()+1,year:r.getFullYear(),hour:r.getHours(),minutes:r.getMinutes()},u={day:i.getDate(),month:i.getMonth()+1,year:i.getFullYear(),hours:i.getHours(),minutes:i.getMinutes()};if(u.year<d.year)return!1;if(u.year==d.year&&(t=!0),t&&u.month<d.month)return!1;if(t&&u.month==d.month&&(o=!0),o&&t&&u.day<d.day)return!1;if(o&&t&&u.day==d.day&&(n=!0),n&&o&&t&&u.hours<d.hours)return!1;if(n&&o&&t&&u.hours==d.hours&&(s=!0),s&&n&&o&&t&&u.minutes<d.minutes)return!1}return e!=a},message:"End Date & Date Should Be Greater Than Start Date & Time"},regexp:!l.unsafe||{regexp:/^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])\/((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\/(0[13456789]|1[012])\/((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\/02\/((19|[2-9]\d)\d{2}))|(29\/02\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))([ ]){1}([0-2][0-3]:[0-5][0-9])$/g,message:"Date Should be in dd/mm/yyyy HH:MM format"}}},eloc:{validators:{notEmpty:{message:"Please Enter The Event Location"}}}}}).on("error.field.bv",function(e,a){""!=$("#ename").val()&&""!=$("#etype").val()&&""!=$("#hname").val()&&""!=$("#estdate").val()&&""!=$("#stdate").val()&&""!=$("#eddate").val()&&""!=$("#geocomplete").val()||$("#esubmit").prop("disabled",!0),a.bv.disableSubmitButtons(!0)}).on("status.field.bv",function(e,a){""==$("#ename").val()||""==$("#etype").val()||""==$("#hname").val()||""==$("#estdate").val()||""==$("#stdate").val()||""==$("#eddate").val()||""==$("#geocomplete").val()?$("#esubmit").prop("disabled",!0):a.bv.disableSubmitButtons(!1)})})},$(document).ready(function(){l.addFeedbackForRegister(),l.addFeedbackForLogin()}),l.userdata={name:null,email:null,password:null,dob:null},l.userlogindata={email:null,password:null},l.showReg=!0,l.showRegSpanClass=!1,l.showLog=!1,l.showLogSpanClass=!1,l.toggleReg=function(){l.showReg=!0,l.showLog=!1,l.showRegSpanClass=!1,l.showLogSpanClass=!0,l.addFeedbackForRegister(),l.successMsg=null,$(function(){$("#rname").focus()})},l.toggleLog=function(){l.showReg=!1,l.showLog=!0,l.showRegSpanClass=!0,l.showLogSpanClass=!1,l.addFeedbackForLogin(),$(function(){$("#lemail").focus()})},l.passwordChecker=function(){var e="(?=^.{8,}$)((?=.*d)|(?=.*W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$",a=document.querySelector("rpassword");e.test(a.value)?a.setCustomValidity(""):a.setCustomValidity(" Password Must Contain a Lowercase Alphabet \n Password Must Contain an Uppercase Alphabet \n Password Must Contain a Number \n Password Must Contain a Special Symbol")},l.successMsg=null,l.register=function(){localStorage.setItem("name",l.userdata.name),localStorage.setItem("email",l.userdata.email),localStorage.setItem("password",l.userdata.password),localStorage.setItem("dob",l.userdata.dob),l.successMsg="Registration Successful!",l.toggleLog(),o()},l.authError=!1,l.login=function(){localStorage.getItem("email")==l.userlogindata.email&&localStorage.getItem("password")==l.userlogindata.password?(e.path("dashboard"),r(),a.user={name:localStorage.getItem("name"),email:localStorage.getItem("email"),dob:localStorage.getItem("dob")},l.authError=!1):l.authError=!0},l.logout=function(){localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("password"),localStorage.removeItem("dob"),a.user=null,e.path("/")},l.showEvents=!0,l.event={name:null,type:null,host:null,start:null,end:null,guests:null,location:null,message:null},l.allEvents=[],l.addEvent=function(){n(l.event),l.showEvents=!1;var e=angular.merge({},l.event);l.allEvents.push(e)},l.createNewEvent=function(){l.showEvents=!0,$(function(){$("#ename").focus()}),s()},l.checkLocation=function(){return""==$("#geocomplete").val()}}angular.module("forms").controller("formController",e),e.$inject=["$location","$rootScope","$scope"]}();